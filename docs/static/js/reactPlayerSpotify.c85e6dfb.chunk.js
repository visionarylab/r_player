/*! For license information please see reactPlayerSpotify.c85e6dfb.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[771],{149(t,e,n){n.d(e,{A:()=>s});var i=n(195);function s(t,e,n){(0,i.A)(t,e),e.set(t,n)}},195(t,e,n){function i(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}n.d(e,{A:()=>i})},458(t,e,n){n.d(e,{A:()=>s});var i=n(562);function s(t,e){return t.get((0,i.A)(t,e))}},558(t,e,n){n.d(e,{A:()=>s});var i=n(562);function s(t,e,n){return t.set((0,i.A)(t,e),n),n}},562(t,e,n){function i(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}n.d(e,{A:()=>i})},790(t,e,n){n.d(e,{A:()=>s});var i=n(195);function s(t,e){(0,i.A)(t,e),e.add(t)}},869(t,e,n){n.r(e),n.d(e,{default:()=>_});var i,s=n(379),o=n(43),a=n(790),r=n(149),l=n(705),h=n(558),c=n(458),u=n(562);const d=/open\.spotify\.com\/(\w+)\/(\w+)/i;function p(t){const e={src:f(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),scrolling:"no",frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return"\n    <style>\n      :host {\n        display: inline-block;\n        min-width: 160px;\n        min-height: 80px;\n        position: relative;\n      }\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n      :host(:not([controls])) {\n        display: none !important;\n      }\n    </style>\n    <iframe".concat(function(t){let e="";for(const n in t){const i=t[n];e+=""===i?" ".concat(n):" ".concat(n,'="').concat(i,'"')}return e}(e),"></iframe>\n  ")}function f(t,e){var n,i,s;if(!t.src)return;const o=t.src.match(d),a=o&&o[1],r=o&&o[2],l={t:null==(n=e.config)?void 0:n.startAt,theme:"dark"===(null==(i=e.config)?void 0:i.theme)?"0":null},h=(null==(s=e.config)?void 0:s.preferVideo)?"/video":"";return"".concat("https://open.spotify.com","/embed/").concat(a,"/").concat(r).concat(h,"?").concat(function(t){return String(new URLSearchParams(function(t){let e={};for(let n in t){let i=t[n];!0===i||""===i?e[n]=1:!1===i?e[n]=0:null!=i&&(e[n]=i)}return e}(t)))}(l))}var v=new WeakMap,m=new WeakMap,A=new WeakMap,w=new WeakMap,g=new WeakMap,y=new WeakMap,E=new WeakMap,b=new WeakMap,T=new WeakMap,k=new WeakMap,M=new WeakSet;class C extends(null!==(i=globalThis.HTMLElement)&&void 0!==i?i:class{}){constructor(){super(),(0,a.A)(this,M),(0,l.A)(this,"loadComplete",new N),(0,r.A)(this,v,void 0),(0,r.A)(this,m,void 0),(0,r.A)(this,A,void 0),(0,r.A)(this,w,!1),(0,r.A)(this,g,!1),(0,r.A)(this,y,!0),(0,r.A)(this,E,0),(0,r.A)(this,b,NaN),(0,r.A)(this,T,!1),(0,r.A)(this,k,null),(0,u.A)(M,this,L).call(this,"config")}async load(){var t,e,n;if((0,c.A)(v,this))return;(0,c.A)(m,this)&&(this.loadComplete=new N),(0,h.A)(m,this,!0),await(0,h.A)(v,this,Promise.resolve()),(0,h.A)(v,this,null),(0,h.A)(w,this,!1),(0,h.A)(g,this,!1),(0,h.A)(E,this,0),(0,h.A)(b,this,NaN),(0,h.A)(T,this,!1),this.dispatchEvent(new Event("emptied"));let i=this.api;if(this.api=null,!this.src)return;this.dispatchEvent(new Event("loadstart"));const s={t:null==(t=this.config)?void 0:t.startAt,theme:"dark"===(null==(e=this.config)?void 0:e.theme)?"0":null,preferVideo:null==(n=this.config)?void 0:n.preferVideo};if((0,c.A)(A,this))this.api=i,this.api.iframeElement.src=f(W(this.attributes),this);else{(0,h.A)(A,this,!0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=p(W(this.attributes),this));let t=this.shadowRoot.querySelector("iframe");const e=await async function(t,e,n){if(P[t])return P[t];if(e&&self[e])return Promise.resolve(self[e]);return P[t]=new Promise(function(e,i){const s=document.createElement("script");s.src=t;const o=t=>e(t);n&&(self[n]=o),s.onload=()=>!n&&o(),s.onerror=i,document.head.append(s)})}("https://open.spotify.com/embed-podcast/iframe-api/v1","SpotifyIframeApi","onSpotifyIframeApiReady");this.api=await new Promise(n=>e.createController(t,s,n)),this.api.iframeElement=t,this.api.addListener("ready",()=>{this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),this.dispatchEvent(new Event("volumechange"))}),this.api.addListener("playback_update",t=>(0,c.A)(g,this)&&(0,c.A)(y,this)&&(t.data.isBuffering||!t.data.isPaused)?((0,h.A)(g,this,!1),void(this.currentTime=1)):(t.data.duration/1e3!==(0,c.A)(b,this)&&((0,h.A)(g,this,!1),(0,h.A)(b,this,t.data.duration/1e3),this.dispatchEvent(new Event("durationchange"))),t.data.position/1e3!==(0,c.A)(E,this)&&((0,h.A)(T,this,!1),(0,h.A)(g,this,!1),(0,h.A)(E,this,t.data.position/1e3),this.dispatchEvent(new Event("timeupdate"))),(0,c.A)(w,this)||(0,c.A)(y,this)||!t.data.isPaused?!(0,c.A)(y,this)||!t.data.isBuffering&&t.data.isPaused?(0,c.A)(w,this)&&!t.data.isPaused?((0,h.A)(w,this,!1),void this.dispatchEvent(new Event("playing"))):!this.paused&&!this.seeking&&!(0,c.A)(g,this)&&Math.ceil(this.currentTime)>=this.duration?((0,h.A)(g,this,!0),this.loop?void(this.currentTime=1):void(this.continuous||(this.pause(),this.dispatchEvent(new Event("ended"))))):void 0:((0,h.A)(y,this,!1),this.dispatchEvent(new Event("play")),(0,h.A)(w,this,t.data.isBuffering),void((0,c.A)(w,this)?this.dispatchEvent(new Event("waiting")):this.dispatchEvent(new Event("playing")))):((0,h.A)(y,this,!0),void this.dispatchEvent(new Event("pause")))))}this.loadComplete.resolve(),await this.loadComplete}async attributeChangedCallback(t,e,n){e!==n&&("src"!==t||this.load())}async play(){var t;return(0,h.A)(y,this,!1),(0,h.A)(w,this,!0),this.dispatchEvent(new Event("play")),await this.loadComplete,null==(t=this.api)?void 0:t.resume()}async pause(){var t;return await this.loadComplete,null==(t=this.api)?void 0:t.pause()}get config(){return(0,c.A)(k,this)}set config(t){(0,h.A)(k,this,t)}get paused(){var t;return null===(t=(0,c.A)(y,this))||void 0===t||t}get muted(){return!1}set muted(t){}get volume(){return 1}set volume(t){}get ended(){return Math.ceil(this.currentTime)>=this.duration}get seeking(){return(0,c.A)(T,this)}get loop(){return this.hasAttribute("loop")}set loop(t){this.loop!=t&&this.toggleAttribute("loop",Boolean(t))}get currentTime(){return(0,c.A)(E,this)}set currentTime(t){if(this.currentTime==t)return;(0,h.A)(T,this,!0);let e=(0,c.A)(E,this);(0,h.A)(E,this,t),this.dispatchEvent(new Event("timeupdate")),(0,h.A)(E,this,e),this.loadComplete.then(()=>{var e;null==(e=this.api)||e.seek(t)})}get duration(){return(0,c.A)(b,this)}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src","".concat(t))}}function L(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}function W(t){let e={};for(let n of t)e[n.name]=n.value;return e}(0,l.A)(C,"getTemplateHTML",p),(0,l.A)(C,"shadowRootOptions",{mode:"open"}),(0,l.A)(C,"observedAttributes",["controls","loop","src"]);const P={};class N extends Promise{constructor(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};super((i,s)=>{n(i,s),t=i,e=s}),this.resolve=t,this.reject=e}}globalThis.customElements&&!globalThis.customElements.get("spotify-audio")&&globalThis.customElements.define("spotify-audio",C);var R=C,S=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),H={className:"class",htmlFor:"for"};function j(t){return t.toLowerCase()}function O(t){return"boolean"===typeof t?t?"":void 0:"function"===typeof t||"object"===typeof t&&null!==t?void 0:t}function I(t,e,n){var i,s;t[e]=n,null==n&&e in(null!==(i=null==(s=globalThis.HTMLElement)?void 0:s.prototype)&&void 0!==i?i:{})&&t.removeAttribute(e)}var _=function(t){let{react:e,tagName:n,elementClass:i,events:o,displayName:a,defaultProps:r,toAttributeName:l=j,toAttributeValue:h=O}=t;const c=Number.parseInt(e.version)>=19,u=e.forwardRef((t,a)=>{var u,d;const p=e.useRef(null),f=e.useRef(new Map),v={},m={},A={},w={};for(const[e,n]of Object.entries(t)){var g,y;if(S.has(e)){A[e]=n;continue}const t=l(null!==(g=H[e])&&void 0!==g?g:e);if(i.prototype&&e in i.prototype&&!(e in(null!==(y=null==(u=globalThis.HTMLElement)?void 0:u.prototype)&&void 0!==y?y:{}))&&!(null==(d=i.observedAttributes)?void 0:d.some(e=>e===t))){w[e]=n;continue}if(e.startsWith("on")){v[e]=n;continue}const s=h(n);if(t&&null!=s&&(m[t]=String(s),c||(A[t]=s)),t&&c){const e=O(n);A[t]=s!==e?s:n}}if("undefined"!==typeof window){for(const t in v){var E;const n=v[t],i=t.endsWith("Capture"),s=(null!==(E=null==o?void 0:o[t])&&void 0!==E?E:t.slice(2).toLowerCase()).slice(0,i?-7:void 0);e.useLayoutEffect(()=>{const t=null==p?void 0:p.current;if(t&&"function"===typeof n)return t.addEventListener(s,n,i),()=>{t.removeEventListener(s,n,i)}},[null==p?void 0:p.current,n])}e.useLayoutEffect(()=>{if(null===p.current)return;const t=new Map;for(const e in w)I(p.current,e,w[e]),f.current.delete(e),t.set(e,w[e]);for(const[e,n]of f.current)I(p.current,e,void 0);f.current=t})}if("undefined"===typeof window&&(null==i?void 0:i.getTemplateHTML)&&(null==i?void 0:i.shadowRootOptions)){const{mode:n,delegatesFocus:s}=i.shadowRootOptions,o=e.createElement("template",{shadowrootmode:n,shadowrootdelegatesfocus:s,dangerouslySetInnerHTML:{__html:i.getTemplateHTML(m,t)},key:"ce-la-react-ssr-template-shadow-root"});A.children=[o,A.children]}return e.createElement(n,(0,s.A)((0,s.A)((0,s.A)({},r),A),{},{ref:e.useCallback(t=>{p.current=t,"function"===typeof a?a(t):null!==a&&(a.current=t)},[a])}),A.children)});return u.displayName=null!==a&&void 0!==a?a:i.name,u}({react:o,tagName:"spotify-audio",elementClass:R,toAttributeName:t=>"muted"===t?"":"defaultMuted"===t?"muted":j(t)})}}]);
//# sourceMappingURL=reactPlayerSpotify.c85e6dfb.chunk.js.map